<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>二次元角色数据分析</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>二次元角色数据分析</h1>
            <p class="subtitle">上传角色图片，AI智能分析身高、体重、三围等数据</p>
        </header>
        
        <div class="disclaimer" id="disclaimer">
            <button class="close-btn" id="close-disclaimer">×</button>
            <p>✨ <strong>温馨提示：</strong> 本系统专为二次元角色设计，采用AI比例分析法。支持各种画风：日漫、美漫、像素风等。</p>
        </div>

        <div class="upload-area" id="upload-area">
            <div class="upload-inner">
                <svg class="upload-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="64" height="64">
                    <path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"/>
                </svg>
                <p>拖拽角色图片到这里或<span class="upload-btn">点击上传</span></p>
                <p class="requirements">支持姿势：正面、侧面、半身像、全身像</p>
                <input type="file" id="file-input" accept="image/*" hidden>
            </div>
        </div>

        <div class="preview-container hidden" id="preview-container">
             <div class="image-preview-container">
                <img id="preview-image" src="" alt="待分析的角色图片">
            </div>
            <div class="preview-actions">
                <button id="start-analysis-btn" class="btn">📏 开始分析</button>
                <button id="change-image-btn" class="btn btn-secondary">🔄 换张图</button>
            </div>
        </div>

        <div class="result-container hidden" id="result-container">
            <div class="image-preview-container">
                <img id="image-preview" src="" alt="角色图片">
            </div>
            
            <div id="loading" class="loading">
                <div class="spinner"></div>
                <p>AI正在分析角色数据...</p>
            </div>
            
            <div id="result" class="result hidden">
                <div class="verdict-container">
                    <h2 id="verdict">分析报告</h2>
                    <div id="verdict-icon">📏</div>
                </div>
                
                <div class="size-comparison">
                    <!-- 身体基本数据 -->
                    <div class="size-item">
                        <div class="value" id="height">--</div>
                        <div class="label">身高</div>
                    </div>
                    <div class="size-item">
                        <div class="value" id="weight">--</div>
                        <div class="label">体重</div>
                    </div>
                    <div class="size-item">
                        <div class="value" id="age">--</div>
                        <div class="label">年龄</div>
                    </div>
                    <!-- BWH 三围数据 -->
                    <div class="size-item">
                        <div class="value" id="overbust">--</div>
                        <div class="label">Bust / 上胸围</div>
                    </div>
                    <div class="size-item">
                        <div class="value" id="waist">--</div>
                        <div class="label">Waist / 腰围</div>
                    </div>
                    <div class="size-item">
                        <div class="value" id="hip">--</div>
                        <div class="label">Hip / 臀围</div>
                    </div>
                    <!-- 内衣尺寸相关 -->
                    <div class="size-item">
                        <div class="value" id="underbust">--</div>
                        <div class="label">下胸围</div>
                    </div>
                    <div class="size-item">
                        <div class="value" id="cup-size">--</div>
                        <div class="label">罩杯</div>
                    </div>
                </div>
                
                <div class="cup-chart">
                    <div class="cup-fill" id="cup-fill"></div>
                </div>
                <div class="cup-labels">
                    <span>AA</span>
                    <span>A</span>
                    <span>B</span>
                    <span>C</span>
                    <span>D</span>
                    <span>E</span>
                    <span>F</span>
                    <span>G</span>
                    <span>H</span>
                    <span>I</span>
                    <span>J</span>
                    <span>K</span>
                    <span>L</span>
                </div>
                
                <div id="explanation"></div>
                
                <div class="result-actions">
                    <button id="try-again" class="btn">🔄 重新分析</button>
                    <button id="save-btn" class="btn btn-secondary">💾 保存结果</button>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="app.js"></script>
</body>
</html>
